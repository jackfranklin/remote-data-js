!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.RemoteData=e():t.RemoteData=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(1),a=n(2),u=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e.url,i=e.state,o=void 0===i?s.NOT_ASKED:i,a=e.onChange,u=void 0===a?function(){}:a,c=e.parse,f=void 0===c?function(t){return t.json()}:c,h=e.fetchOptions,l=void 0===h?{}:h,d=e.rawResponse,p=e.stateData;r(this,t),this.state=o,this.url=n,this.onChange=u,this.parse=f,this.fetchOptions=l,this.stateData=p,this.rawResponse=d}return o(t,[{key:"config",value:function e(){var t=this,n=["onSuccess","onFailure","parse","fetchOptions","state","url"],e={};return n.forEach(function(n){e[n]=t[n]}),e}},{key:"case",value:function(t){var e=t.NotAsked,n=void 0===e?function(){return h()}:e,r=t.Pending,i=void 0===r?function(){return h()}:r,o=t.Failure,a=void 0===o?function(){return h.apply(void 0,arguments)}:o,u=t.Success,c=void 0===u?function(){return h.apply(void 0,arguments)}:u,f=t._,h=void 0===f?function(){}:f;switch(this.state){case s.NOT_ASKED:return n();case s.PENDING:return i();case s.FAILURE:return a(this.stateData);case s.SUCCESS:return c(this.stateData)}}},{key:"isFinished",value:function(){return this.isFailure()||this.isSuccess()}},{key:"isPending",value:function(){return this.state===s.PENDING}},{key:"isNotAsked",value:function(){return this.state===s.NOT_ASKED}},{key:"isFailure",value:function(){return this.state===s.FAILURE}},{key:"isSuccess",value:function(){return this.state===s.SUCCESS}},{key:"makeNewAndOnChange",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=new this.constructor(i({},this.config(),t));return this.onChange(e),e}},{key:"fetch",value:function(){var t="function"==typeof this.url?this.url.apply(this,arguments):this.url;return this.makeNewAndOnChange({state:s.PENDING}),(0,a.makeFetchRequest)(this,t)}},{key:"data",get:function(){if(this.isFinished())return this.stateData;throw new Error("Cannot get data for request that hasn't finished")}},{key:"response",get:function(){if(this.isFinished())return this.rawResponse;throw new Error("Cannot get response for request that hasn't finished")}}]),t}();e["default"]=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.NOT_ASKED="REMOTE_DATA_NOT_ASKED",e.PENDING="REMOTE_DATA_PENDING",e.FAILURE="REMOTE_DATA_FAILURE",e.SUCCESS="REMOTE_DATA_SUCCESS"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeFetchRequest=void 0;var r=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(1),o=function(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e},s=function(t,e,n,r){return t.makeNewAndOnChange({state:r?i.FAILURE:i.SUCCESS,stateData:n,rawResponse:e})},a=function(t,e,n){return s(t,e,n,!1)},u=function(t,e,n){return s(t,e,n,!0)},c=function(t){return function(e){return Promise.all([Promise.resolve(e),Promise.resolve(t(e))])}};e.makeFetchRequest=function(t,e){return fetch(e,t.fetchOptions).then(o).then(c(t.parse)).then(function(e){var n=r(e,2),i=n[0],o=n[1];return a(t,i,o)})["catch"](function(e){return u(t,e.response,e)})}}])});